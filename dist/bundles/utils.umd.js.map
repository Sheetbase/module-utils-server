{"version":3,"file":"utils.umd.js","sources":["../lib/utils.js"],"sourcesContent":["export function o2a(object, keyName) {\r\n    if (keyName === void 0) { keyName = '$key'; }\r\n    var array = [];\r\n    for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        if (object[key] instanceof Object) {\r\n            object[key][keyName] = key;\r\n        }\r\n        else {\r\n            var value = object[key];\r\n            object[key] = {};\r\n            object[key][keyName] = key;\r\n            object[key]['value'] = value;\r\n        }\r\n        array.push(object[key]);\r\n    }\r\n    return array;\r\n}\r\nexport function a2o(array, keyName) {\r\n    if (keyName === void 0) { keyName = 'key'; }\r\n    var object = {};\r\n    for (var i = 0; i < (array || []).length; i++) {\r\n        var item = array[i];\r\n        object[item[keyName] ||\r\n            item['slug'] ||\r\n            (item['id'] ? '' + item['id'] : null) ||\r\n            (item['#'] ? '' + item['#'] : null) ||\r\n            ('' + Math.random() * 1E20)] = item;\r\n    }\r\n    return object;\r\n}\r\nexport function uniqueId(length, startWith) {\r\n    if (length === void 0) { length = 12; }\r\n    if (startWith === void 0) { startWith = '-'; }\r\n    var maxLoop = length - 8;\r\n    var ASCII_CHARS = startWith + '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\r\n    var lastPushTime = 0;\r\n    var lastRandChars = [];\r\n    var now = new Date().getTime();\r\n    var duplicateTime = (now === lastPushTime);\r\n    lastPushTime = now;\r\n    var timeStampChars = new Array(8);\r\n    var i;\r\n    for (i = 7; i >= 0; i--) {\r\n        timeStampChars[i] = ASCII_CHARS.charAt(now % 64);\r\n        now = Math.floor(now / 64);\r\n    }\r\n    var uid = timeStampChars.join('');\r\n    if (!duplicateTime) {\r\n        for (i = 0; i < maxLoop; i++) {\r\n            lastRandChars[i] = Math.floor(Math.random() * 64);\r\n        }\r\n    }\r\n    else {\r\n        for (i = maxLoop - 1; i >= 0 && lastRandChars[i] === 63; i--) {\r\n            lastRandChars[i] = 0;\r\n        }\r\n        lastRandChars[i]++;\r\n    }\r\n    for (i = 0; i < maxLoop; i++) {\r\n        uid += ASCII_CHARS.charAt(lastRandChars[i]);\r\n    }\r\n    return uid;\r\n}\r\nexport function honorData(data) {\r\n    if (data === void 0) { data = {}; }\r\n    for (var key in data) {\r\n        if (data[key] === '' || data[key] === null || data[key] === undefined) {\r\n            // delete null key\r\n            delete data[key];\r\n        }\r\n        else if ((data[key] + '').toLowerCase() === 'true') {\r\n            // boolean TRUE\r\n            data[key] = true;\r\n        }\r\n        else if ((data[key] + '').toLowerCase() === 'false') {\r\n            // boolean FALSE\r\n            data[key] = false;\r\n        }\r\n        else if (!isNaN(data[key])) {\r\n            // number\r\n            if (Number(data[key]) % 1 === 0) {\r\n                // tslint:disable-next-line:ban\r\n                data[key] = parseInt(data[key], 2);\r\n            }\r\n            if (Number(data[key]) % 1 !== 0) {\r\n                // tslint:disable-next-line:ban\r\n                data[key] = parseFloat(data[key]);\r\n            }\r\n        }\r\n        else {\r\n            // JSON\r\n            try {\r\n                data[key] = JSON.parse(data[key]);\r\n            }\r\n            catch (e) {\r\n                // continue\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\n"],"names":[],"mappings":";;;;;;IAAO,SAAS,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE;IACrC,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,MAAM,CAAC,EAAE;IACjD,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC;IACnB,IAAI,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACrE,QAAQ,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;IACzB,QAAQ,IAAI,MAAM,CAAC,GAAG,CAAC,YAAY,MAAM,EAAE;IAC3C,YAAY,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC;IACvC,SAAS;IACT,aAAa;IACb,YAAY,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IACpC,YAAY,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC7B,YAAY,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC;IACvC,YAAY,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;IACzC,SAAS;IACT,QAAQ,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;IAChC,KAAK;IACL,IAAI,OAAO,KAAK,CAAC;IACjB,CAAC;AACD,IAAO,SAAS,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE;IACpC,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,KAAK,CAAC,EAAE;IAChD,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;IACpB,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE;IACnD,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IAC5B,QAAQ,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IAC5B,YAAY,IAAI,CAAC,MAAM,CAAC;IACxB,aAAa,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IACjD,aAAa,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;IAC/C,aAAa,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;IAChD,KAAK;IACL,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC;AACD,IAAO,SAAS,QAAQ,CAAC,MAAM,EAAE,SAAS,EAAE;IAC5C,IAAI,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,EAAE;IAC3C,IAAI,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,EAAE,SAAS,GAAG,GAAG,CAAC,EAAE;IAClD,IAAI,IAAI,OAAO,GAAG,MAAM,GAAG,CAAC,CAAC;IAC7B,IAAI,IAAI,WAAW,GAAG,SAAS,GAAG,iEAAiE,CAAC;IACpG,IAAI,IAAI,YAAY,GAAG,CAAC,CAAC;IACzB,IAAI,IAAI,aAAa,GAAG,EAAE,CAAC;IAC3B,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IACnC,IAAI,IAAI,aAAa,IAAI,GAAG,KAAK,YAAY,CAAC,CAAC;IAC/C,IAAI,YAAY,GAAG,GAAG,CAAC;IACvB,IAAI,IAAI,cAAc,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IACtC,IAAI,IAAI,CAAC,CAAC;IACV,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7B,QAAQ,cAAc,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;IACzD,QAAQ,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;IACnC,KAAK;IACL,IAAI,IAAI,GAAG,GAAG,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACtC,IAAI,IAAI,CAAC,aAAa,EAAE;IACxB,QAAQ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;IACtC,YAAY,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;IAC9D,SAAS;IACT,KAAK;IACL,SAAS;IACT,QAAQ,KAAK,CAAC,GAAG,OAAO,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,EAAE;IACtE,YAAY,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACjC,SAAS;IACT,QAAQ,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3B,KAAK;IACL,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;IAClC,QAAQ,GAAG,IAAI,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,KAAK;IACL,IAAI,OAAO,GAAG,CAAC;IACf,CAAC;AACD,IAAO,SAAS,SAAS,CAAC,IAAI,EAAE;IAChC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE,EAAE,IAAI,GAAG,EAAE,CAAC,EAAE;IACvC,IAAI,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;IAC1B,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;IAC/E;IACA,YAAY,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7B,SAAS;IACT,aAAa,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,KAAK,MAAM,EAAE;IAC5D;IACA,YAAY,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;IAC7B,SAAS;IACT,aAAa,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,KAAK,OAAO,EAAE;IAC7D;IACA,YAAY,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAC9B,SAAS;IACT,aAAa,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;IACpC;IACA,YAAY,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;IAC7C;IACA,gBAAgB,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACnD,aAAa;IACb,YAAY,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;IAC7C;IACA,gBAAgB,IAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAClD,aAAa;IACb,SAAS;IACT,aAAa;IACb;IACA,YAAY,IAAI;IAChB,gBAAgB,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAClD,aAAa;IACb,YAAY,OAAO,CAAC,EAAE;IACtB;IACA,aAAa;IACb,SAAS;IACT,KAAK;IACL,IAAI,OAAO,IAAI,CAAC;IAChB,CAAC;;;;;;;;;;;;;;;"}